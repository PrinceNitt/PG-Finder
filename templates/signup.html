<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Signup - PGFinder</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  /* Card hover animation */
  .card-hover:hover {
    transform: translateY(-5px) scale(1.02);
    transition: all 0.3s ease-in-out;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
  }
  input:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37,99,235,0.3);
    transition: all 0.3s ease-in-out;
  }
  button:hover {
    transform: scale(1.03);
    transition: all 0.2s ease-in-out;
  }
</style>
</head>
<body class="bg-gray-100">

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-blue-600 shadow">
  <div class="container">
    <a class="navbar-brand font-bold" href="#">PGFinder</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="#pgs">Nearby PGs</a></li>
        <li class="nav-item"><a class="nav-link" href="#amenities">Amenities</a></li>
        <li class="nav-item"><a class="nav-link" href="#map">Map</a></li>
        <li class="nav-item"><a class="nav-link" href="#bookings">Bookings</a></li>
        <li class="nav-item"><a class="nav-link" href="#reviews">Reviews</a></li>
        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
        <li class="nav-item"><a class="nav-link bg-yellow-400 text-black px-3 py-1 rounded hover:bg-yellow-300" href="#profile">Profile</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Signup Card -->
<div class="flex-grow flex items-center justify-center py-10">
  <div class="container mx-auto px-2">
    <div class="max-w-md mx-auto bg-white rounded-3xl shadow-xl p-8 card-hover">
      <h2 class="text-3xl font-bold text-center text-blue-700 mb-6">Create Your Account</h2>
      <p class="text-center text-gray-600 mb-6">Sign up to explore and book your ideal PG</p>

      <form method="POST" class="space-y-5">
        <div>
          <label class="block text-gray-700 font-semibold mb-2">Full Name</label>
          <input type="text" name="name" placeholder="Enter your full name" 
                 class="w-full p-3 border rounded-lg bg-gray-50 focus:bg-white" required>
        </div>
        <div>
          <label class="block text-gray-700 font-semibold mb-2">Email</label>
          <input type="email" name="email" placeholder="Enter your email" 
                 class="w-full p-3 border rounded-lg bg-gray-50 focus:bg-white" required>
        </div>
        <div>
          <label class="block text-gray-700 font-semibold mb-2">Password</label>
          <input type="password" name="password" placeholder="Create a password" 
                 class="w-full p-3 border rounded-lg bg-gray-50 focus:bg-white" required>
        </div>
        <div>
          <label class="block text-gray-700 font-semibold mb-2">I am a</label>
          <select name="role" class="w-full p-3 border rounded-lg bg-gray-50 focus:bg-white" required>
            <option value="student" {% if role == 'student' %}selected{% endif %}>Student / Working Professional</option>
            <option value="pg_owner" {% if role == 'pg_owner' %}selected{% endif %}>PG Owner</option>
          </select>
        </div>
        <div>
          <button type="submit" 
                  class="w-full py-3 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-blue-700">
            Sign Up
          </button>
        </div>
      </form>

      <p class="text-center text-gray-500 mt-5">Already have an account? 
        <a href="/login" class="text-purple-700 font-semibold hover:underline">Login</a>
      </p>
    </div>
  </div>
</div>

  <!-- Flash Messages -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="fixed top-4 right-4 z-50 space-y-2">
        {% for category, message in messages %}
          <div class="px-6 py-3 rounded-lg shadow-lg text-white min-w-[300px]
            {% if category == 'success' %}bg-green-500
            {% elif category == 'danger' or category == 'error' %}bg-red-500
            {% elif category == 'warning' %}bg-yellow-500
            {% elif category == 'info' %}bg-blue-500
            {% else %}bg-gray-500{% endif %}" 
            onclick="this.remove()" style="cursor: pointer;">
            {{ message }}
          </div>
        {% endfor %}
      </div>
      <script>
        setTimeout(function() {
          const messages = document.querySelectorAll('.fixed.top-4');
          messages.forEach(msg => {
            msg.style.opacity = '0';
            msg.style.transition = 'opacity 0.5s';
            setTimeout(() => msg.remove(), 500);
          });
        }, 5000);
      </script>
    {% endif %}
  {% endwith %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
